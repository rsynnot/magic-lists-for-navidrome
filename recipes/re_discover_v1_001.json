{
  "version": "v1.001",
  "description": "AI-powered Re-discover algorithm for surfacing forgotten gems from user's listening history with intelligent curation",
  "inputs": [
    "candidate_tracks",
    "num_tracks",
    "analysis_summary"
  ],
  "prompt_template": "You are an expert music curator creating a 'Re-Discover Weekly' playlist to help users reconnect with forgotten gems from their music library.\n\nCANDIDATE TRACKS (pre-filtered algorithmic analysis):\n{candidate_tracks}\n\nANALYSIS SUMMARY:\n{analysis_summary}\n\nPLAYLIST TARGET: Select exactly {num_tracks} tracks from the candidates above.\n\nCURATION STRATEGY:\n- These tracks have been algorithmically selected as rediscovery candidates based on historical play count × days since last play.\n- Focus on creating an engaging rediscovery experience with good artist diversity.\n- Consider musical variety and flow to create an enjoyable listening journey.\n- Prioritize tracks that balance nostalgia with freshness.\n\nResponse format: {\"track_ids\": [\"id1\", \"id2\", ...], \"reasoning\": \"Brief explanation (140-280 characters max, like a tweet)\"}\n\nIMPORTANT: Keep reasoning concise and engaging, maximum 280 characters including spaces and punctuation." (indicating past enjoyment)\n  * Time since last play (ensuring freshness)\n  * Artist diversity (preventing any single artist from dominating)\n- Choose tracks that create an engaging rediscovery journey\n- Balance familiar favorites with deeper cuts the user might have forgotten\n- Consider variety in genres, moods, and eras to keep the playlist interesting\n- Prioritize tracks with higher historical play counts as they indicate stronger past preference\n- Include tracks from different time periods in the user's listening history\n\nRespond with a JSON object containing:\n{{\n  \"track_ids\": [\"track_id_1\", \"track_id_2\", ...],\n  \"reasoning\": \"Brief explanation of your curation choices and the listening journey you've created\"\n}}",
  "prompt_template_with_reasoning": "You are an expert music curator creating a 'Re-Discover Weekly' playlist to help users reconnect with forgotten gems from their music library.\n\nCANDIDATE TRACKS (pre-filtered algorithmic analysis):\n{candidate_tracks}\n\nANALYSIS SUMMARY:\n{analysis_summary}\n\nPLAYLIST TARGET: Select exactly {num_tracks} tracks from the candidates above.\n\nCURATION STRATEGY:\n- These tracks have been algorithmically selected as rediscovery candidates based on historical play count × days since last play.\n- Focus on creating an engaging rediscovery experience with good artist diversity.\n- Consider musical variety and flow to create an enjoyable listening journey.\n- Prioritize tracks that balance nostalgia with freshness.\n\nResponse format: {\"track_ids\": [\"id1\", \"id2\", ...], \"reasoning\": \"Brief explanation (140-280 characters max, like a tweet)\"}\n\nIMPORTANT: Keep reasoning concise and engaging, maximum 280 characters including spaces and punctuation."ical play count (indicating past enjoyment)\n  * Time since last play (ensuring freshness)\n  * Artist diversity (preventing any single artist from dominating)\n- Choose tracks that create an engaging rediscovery journey\n- Balance familiar favorites with deeper cuts the user might have forgotten\n- Consider variety in genres, moods, and eras to keep the playlist interesting\n- Prioritize tracks with higher historical play counts as they indicate stronger past preference\n- Include tracks from different time periods in the user's listening history\n- Explain your reasoning for the selections and how they work together\n\nRespond with a JSON object containing:\n{{\n  \"track_ids\": [\"track_id_1\", \"track_id_2\", ...],\n  \"reasoning\": \"Detailed explanation of your curation choices, why these tracks work well for rediscovery, and the listening journey you've created. Mention specific tracks and why they were selected.\"\n}}",
  "strategy_notes": {
    "algorithmic_preprocessing": "Candidates are pre-scored using play_count × days_since_last_play formula",
    "ai_curation_focus": "AI selects from algorithmically-prepared candidates to create engaging rediscovery experience",
    "candidate_pool_size": "Typically 50-100 pre-filtered tracks sent to AI for final selection",
    "time_windows": {
      "analysis_period": "30 days of listening history",
      "minimum_gap": "7+ days since last play"
    },
    "diversity_controls": {
      "max_per_artist": 3,
      "total_tracks": 20
    },
    "ranking_criteria": "AI considers algorithmic scores plus musical variety and flow"
  },
  "llm_params": {
    "temperature": 0.8,
    "max_tokens": 2500,
    "model_fallback": "openai/gpt-3.5-turbo"
  }
}