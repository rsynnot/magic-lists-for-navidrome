{
  "version": "v1.004",
  "description": "AI-powered Re-discover algorithm for surfacing forgotten gems from user's listening history with intelligent curation and concise tweet-length reasoning",
  "inputs": [
    "candidate_tracks",
    "num_tracks", 
    "analysis_summary"
  ],
  "prompt_template": "You are an expert music curator creating a 'Re-Discover Weekly' playlist to help users reconnect with forgotten gems from their music library.\n\nCANDIDATE TRACKS (pre-filtered algorithmic analysis):\n{candidate_tracks}\n\nANALYSIS SUMMARY:\n{analysis_summary}\n\nPLAYLIST TARGET: Select exactly {num_tracks} tracks from the candidates above.\n\nCURATION STRATEGY:\n- These tracks have been algorithmically selected as rediscovery candidates based on historical play count × days since last play.\n- Focus on creating an engaging rediscovery experience with good artist diversity.\n- Consider musical variety and flow to create an enjoyable listening journey.\n- Prioritize tracks that balance nostalgia with freshness.\n\nResponse format: Return a JSON object with this exact structure:\n{{\"track_ids\": [\"id1\", \"id2\", \"id3\"], \"reasoning\": \"Brief tweet-style explanation in 140-280 characters\"}}\n\nIMPORTANT: Keep reasoning concise and engaging, maximum 280 characters including spaces and punctuation.",
  "prompt_template_with_reasoning": "You are an expert music curator creating a 'Re-Discover Weekly' playlist to help users reconnect with forgotten gems from their music library.\n\nCANDIDATE TRACKS (pre-filtered algorithmic analysis):\n{candidate_tracks}\n\nANALYSIS SUMMARY:\n{analysis_summary}\n\nPLAYLIST TARGET: Select exactly {num_tracks} tracks from the candidates above.\n\nCURATION STRATEGY:\n- These tracks have been algorithmically selected as rediscovery candidates based on historical play count × days since last play.\n- Focus on creating an engaging rediscovery experience with good artist diversity.\n- Consider musical variety and flow to create an enjoyable listening journey.\n- Prioritize tracks that balance nostalgia with freshness.\n\nResponse format: Return a JSON object with this exact structure:\n{{\"track_ids\": [\"id1\", \"id2\", \"id3\"], \"reasoning\": \"Brief tweet-style explanation in 140-280 characters\"}}\n\nIMPORTANT: Keep reasoning concise and engaging, maximum 280 characters including spaces and punctuation.",
  "strategy_notes": {
    "algorithmic_preprocessing": "Candidates are pre-scored using play_count × days_since_last_play formula",
    "ai_curation_focus": "AI selects from algorithmically-prepared candidates to create engaging rediscovery experience",
    "candidate_pool_size": "Typically 50-100 pre-filtered tracks sent to AI for final selection",
    "time_windows": {
      "analysis_period": "30 days of listening history",
      "minimum_gap": "7+ days since last play"
    },
    "diversity_controls": {
      "max_per_artist": 3,
      "total_tracks": 20
    },
    "ranking_criteria": "AI considers algorithmic scores plus musical variety and flow",
    "reasoning_length": "Maximum 280 characters, tweet-style concise explanation"
  },
  "llm_params": {
    "temperature": 0.8,
    "max_tokens": 2000,
    "model_fallback": "openai/gpt-3.5-turbo"
  }
}